@startuml
skinparam componentStyle rectangle
skinparam shadowing false
skinparam defaultFontName Arial
skinparam defaultFontSize 10
skinparam backgroundColor #FFFFFF
skinparam nodesep 30
skinparam ranksep 25
skinparam linetype ortho

left to right direction

component "API" as API

rectangle "Ingestion Pipeline" as Ingest {
    component "Parser" as Parser
    component "Splitter" as Splitter
    component "Embedder" as Embedder
}

rectangle "RAG Core" as RagCore {
    component "Retriever" as Retriever
    component "Reranker" as Reranker
    component "Generator" as Generator
}

rectangle "Storage" as Storage {
    database "ChromaDB" as Chroma
    database "Metadata DB" as MetaDB
}

rectangle "LLM Providers" as Providers {
    component "Ollama (Local)" as Ollama
    component "External APIs" as LLM_API
}

API --> Ingest
API --> RagCore
Ingest --> Storage
RagCore --> Storage
RagCore --> Providers

@enduml
